{% load static %}

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>{% block title %}Smart Recommendation System{% endblock %}</title>
    <link rel="icon" type="image/x-icon" href="{% static 'images/recommendation_engine_icon.png' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'styles/styles.css' %}">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha384-28ncL4mua7l7Gq+V8R5k/yTf1Smv3+SHJqLpvBH9s0HCpHZB5NbAv4z9Lmm4L6U6" crossorigin="anonymous"></script>
    
    <body class="{% block body_class %}{% endblock %}">
    
    <div class="main-content">
      <ul class="{% block navbar %}{% endblock %}" id="pills-tab" role="tablist">
        <img
          id="logo"
          src="{% static 'images/recommendation_engine_icon.png' %}"
          alt="" onclick="home_page()"
        />
        <li class="nav-item" role="presentation">
          <a
            class="nav-link {% if request.path == '/movies/' %}active{% endif %}"
            href="{% url 'movie_page' %}"
          >
            Movies
          </a>
        </li>
        <li class="nav-item" role="presentation">
          <a
            class="nav-link {% if request.path == '/songs/' %}active{% endif %}"
            href="{% url 'song_page' %}"
          >
            Songs
          </a>
        </li>
        <li class="nav-item" role="presentation">
          <a
            class="nav-link {% if request.path == '/series/' %}active{% endif %}"
            href="{% url 'series_page' %}"
          >
            Series
          </a>
        </li>
      </ul>
</div>
      <div class="container-fluid">{% block content %} {% endblock %}</div>

      {% block scripts %}
      <script>
        function home_page(){
          window.location.replace("{% url 'home_page' %}");
        }
        $(document).ready(function () {
          // Add 'active' class to nav link based on current URL
          var path = window.location.pathname;
          $(".nav-link").each(function () {
            var href = $(this).attr("href");
            if (path === href) {
              $(this).addClass("active");
            }
          });
        });
      </script>
    {% endblock %}
  </body>
</html>
